<!-- Atributos nombre, correo, puntos-->

<div class="container">
    <script>
        function goBack() {
          window.history.back();
        }
        </script>
    
    <div class="container">
        <!--Botón volver atrás--> 
        <a href="#" onclick="goBack()">
          <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrow-return-left" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5"/>
    </svg>
        </a>


    <h1>Lista de Usuarios</h1>
    <table id="example" class="uk-table uk-table-hover " style="width:100%">
        <thead>
            <tr>
                <th class="unaLinea">Nombre</th>
                <th class="unaLinea">Correo</th>
                <th class="unaLinea">Puntos</th>
                <th class="unaLinea">Editar</th>
                <th class="unaLinea">Borrar</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="usuario : ${usuarios}">
                <td th:text="${usuario.nombre}"></td>
                <td th:text="${usuario.correo}"></td>
                <td th:text="${usuario.puntos}"></td>
                <td>
                    <a href="#" id="edbo" onclick="window.location.href='/usuario/u?id=${usuario.id}'">
                        <i class="bi bi-pen-fill"></i>
                    </a>
                </td>
                <td>
                    <a href="#" id="edbo" onclick="eliminarUsuario('${usuario.id}')">
                        <i class="bi bi-trash3-fill"></i>
                    </a>
                </td>
            </tr>
        </tbody>
    </table>

    <!-- SCRIPTS -->
    <script>
        // Para el botón de volver atrás
        function goBack() {
            window.history.back();
        }

        // Función para eliminar usuario
        function eliminarUsuario(id) {
            if (confirm('¿Estás seguro de que deseas eliminar este usuario?')) {
                // Creamos un formulario temporal
                var form = document.createElement('form');
                form.setAttribute('method', 'post');
                form.setAttribute('action', '/usuario/d');

                // Creamos un campo de entrada oculto para el ID del usuario
                var input = document.createElement('input');
                input.setAttribute('type', 'hidden');
                input.setAttribute('name', 'id');
                input.setAttribute('value', 'id');

                // Agregamos el campo de entrada al formulario
                form.appendChild(input);

                // Agregamos el formulario al cuerpo del documento
                document.body.appendChild(form);

                // Enviamos el formulario
                form.submit();
            }
        }

        // Inicializamos DataTables
        $(document).ready(function () {
            $('#example').DataTable();
        });
        // $(document).ready(function () {
        //     $('#example').DataTable({
        //         "language": {
        //             "url": "//cdn.datatables.net/plug-ins/2.0.5/i18n/es-ES.json"
        //         }
        //     });
        // });

    </script>


</div>