<style>
    .form {
        display: flex;
        flex-direction: column;
        gap: 10px;
        padding-left: 2em;
        padding-right: 2em;
        padding-bottom: 0.4em;
        background-color: white;
        color: black;
        border-radius: 25px;
        transition: .4s ease-in-out;
    }

    .form:hover {
        transform: scale(1.05);
        border: 1px solid white;
    }

    #heading {
        text-align: center;
        color: black;
        font-size: 2.4em;
    }

    .field {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5em;
        border-radius: 25px;
        padding: 0.6em;
        border: none;
        outline: none;
        color: black;
        background-color: white;
        box-shadow: inset 2px 5px 10px rgb(5, 5, 5);
    }

    .input-icon {
        height: 1.3em;
        width: 1.3em;
        fill: black;
    }

    .input-field {
        background: none;
        border: none;
        outline: none;
        width: 100%;
        color: black;
    }

    .form .btn {
        display: flex;
        justify-content: center;
        flex-direction: row;
        margin-top: 2.5em;
    }

    .button1 {
        padding: 0.5em;
        padding-left: 1.1em;
        padding-right: 1.1em;
        border-radius: 5px;
        margin-right: 0.5em;
        border: none;
        outline: none;
        transition: .4s ease-in-out;
        background-color: white;
        color: black;
        text-align: justify;
    }

    .button1:hover {
        background-color: black;
        color: white;
    }

    .button2 {
        padding: 0.5em;
        padding-left: 2.3em;
        padding-right: 2.3em;
        border-radius: 5px;
        border: none;
        outline: none;
        transition: .4s ease-in-out;
        background-color: white;
        color: black;
        text-align: justify;
    }

    .button2:hover {
        background-color: black;
        color: white;
    }

    .button3 {
        margin-bottom: 3em;
        padding: 0.5em;
        border-radius: 5px;
        border: none;
        outline: none;
        transition: .4s ease-in-out;
        background-color: white;
        color: black;
    }

    .button3:hover {
        background-color: red;
        color: white;
    }

    .modal-content {
        background-color: white;
        color:black;
        border-radius: 25px;
        width: 80%;
        margin: auto;
    }

    .modal-body {
        text-align: center;
    }

    .navbar-brand {
        letter-spacing: 3px;
    }



    .sidenav {
        height: 100%;
        width: 0;
        position: fixed;
        z-index: 1;
        top: 0;
        left: 0;
        background-color: #111;
        overflow-x: hidden;
        transition: 0.5s;
        padding-top: 60px;
    }

    .sidenav a {
        padding: 8px 8px 8px 32px;
        text-decoration: none;
        font-size: 25px;
        color: #818181;
        display: block;
        transition: 0.3s;
    }

    .sidenav a:hover {
        color: #f1f1f1;
    }

    .sidenav .closebtn {
        position: absolute;
        top: 0;
        right: 25px;
        font-size: 36px;
        margin-left: 50px;
    }

    @media screen and (max-height: 450px) {
        .sidenav {
            padding-top: 15px;
        }

        .sidenav a {
            font-size: 18px;
        }
    }

    .navbar {
        background-color: transparent !important;
        border-bottom: none !important;
    }

    .navbar-nav .nav-link {
        color: white !important;
        /* Color del texto del navbar */
    }

    .navbar-nav .nav-link:hover {
        color: rgba(255, 255, 255, 0.7) !important;
        /* Color del texto del navbar al pasar el mouse */
    }
</style>

<div id="mySidenav" class="sidenav" style="margin-top:80px opacity-0">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <a href="/pelicula/r">Peliculas</a>
    <a href="/juego/r">Juegos</a>
    <a href="/categoria/r">Categorias</a>
    <hr>
    <a th:if="${session.usuario!=null and session.usuario.esAdmin==true}">
        <h4>Opciones de administrador</h4>
        <div class="dropdown">
            <a class="nav-link dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">
                Acciones
            </a>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" href="/pelicula/rAdmin">Peliculas</a>
                <a class="dropdown-item" href="/juego/rAdmin">Juegos</a>
                <a class="dropdown-item" href="/categoria/rAdmin">Categorias</a>
                <a class="dropdown-item" href="/evento/c">Eventos</a>
                <a class="dropdown-item" href="/usuario/rAdmin">Usuarios</a>
            </div>
        </div>
    </a>

    <a href="#" id="personIcon" th:if="${session.usuario==null}">Identificate</a>
    <a class="nav-item nav-link" th:if="${session.usuario!=null}" href="/logout"> <button
        class="btn btn-primary" type="button">Logout</button></a>

</div>




<script>
    function openNav() {
        document.getElementById("mySidenav").style.width = "250px";
    }

    function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
    }
</script>




<nav class="navbar navbar-expand-lg  navbar-dark rounded justify-content-center navbar-scroll">
    <div class="container-fluid">
        <span style="font-size:30px;cursor:pointer; color: plum;" onclick="openNav()">&#9776;</span>
        <a class="navbar-brand" href="/" style="margin-left: 30px;">Inicio</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <!-- <li class="nav-item active">
                    <a class="navbar-brand" href="/">
                        <img src="/img/home-alt.png" alt="INICIO" style="width:40px;">
                    </a>
                </li> -->
                <!-- <li class="nav-item">
                    <a class="nav-link" href="/pelicula/r">Peliculas</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/juego/r">Videojuegos</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/categoria/r">Categorias</a>
                </li> -->
                <li th:if="${session.usuario!=null and session.usuario.esAdmin==true}">
                    <div class="dropdown">
                        <a class="nav-link dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">
                            Acciones
                        </a>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="/pelicula/rAdmin">Peliculas</a>
                            <a class="dropdown-item" href="/juego/rAdmin">Juegos</a>
                            <a class="dropdown-item" href="/categoria/rAdmin">Categorias</a>
                            <a class="dropdown-item" href="/evento/c">Eventos</a>
                            <a class="dropdown-item" href="/usuario/rAdmin">Usuarios</a>
                        </div>
                    </div>
                </li>
            </ul>
            <div class="d-flex justify-content-center"></div>
            <form class="d-flex input-group w-auto">
                <input type="search" class="form-control" placeholder="Título, Autor..." aria-label="Search" />
                <button class="btn btn-outline-primary" type="button" data-mdb-ripple-color="dark"
                    style="padding: .45rem 1.5rem .35rem;">
                    Buscar
                </button>
            </form>
        </div>
        <ul class="navbar-nav mb-2 mb-lg-0 mr-3">


            <li class="nav-item" th:if="${session.usuario==null}">
                <a class="nav-link" href="#" style="color: white;">
                    <i id="personIcon" class="bi bi-person-circle " style="font-size: 20px; cursor: pointer;"> <span
                            style="margin-left: 5px;">Identificate</span></i>
                </a>
            </li>


            <div class="dropdown-menu-right" style="text-align: justify;">
                <a class="nav-link dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false" th:if="${session.usuario!=null}"
                    th:text="|Buenas, ${session.usuario.nombre}.|">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                        data-mdb-toggle="dropdown" aria-expanded="false">
                    </a>
                </a>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <a class="dropdown-item" href="/pelicula/c">Peliculas </a>
                    <a class="dropdown-item" href="/juego/c">Juegos </a>

                    <hr class="dropdown-divider" />

                    <a class="dropdown-item" href="/usuario/rDetailed">Mi cuenta</a>
                    <a class="dropdown-item" href="#">Ayuda</a>
                    <a class="nav-item nav-link" th:if="${session.usuario!=null}" href="/logout"> <button
                            class="btn btn-primary" type="button">Logout</button></a>
                </div>
            </div>
            </li>
        </ul>
    </div>
    </div>
</nav>

<!-- Modal de Autenticación de usuario -->
<div class="modal fade" id="personModal" tabindex="-1" role="dialog" aria-labelledby="personModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <form action="/login" method="post" class="mt-4">
                    <p id="heading">Acceder</p>
                    <div class="field mb-2 ">
                        <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                            fill="currentColor" viewBox="0 0 16 16">
                            <path
                                d="M13.106 7.222c0-2.967-2.249-5.032-5.482-5.032-3.35 0-5.646 2.318-5.646 5.702 0 3.493 2.235 5.708 5.762 5.708.862 0 1.689-.123 2.304-.335v-.862c-.43.199-1.354.328-2.29.328-2.926 0-4.813-1.88-4.813-4.798 0-2.844 1.921-4.881 4.594-4.881 2.735 0 4.608 1.688 4.608 4.156 0 1.682-.554 2.769-1.416 2.769-.492 0-.772-.28-.772-.76V5.206H8.923v.834h-.11c-.266-.595-.881-.964-1.6-.964-1.4 0-2.378 1.162-2.378 2.823 0 1.737.957 2.906 2.379 2.906.8 0 1.415-.39 1.709-1.087h.11c.081.67.703 1.148 1.503 1.148 1.572 0 2.57-1.415 2.57-3.643zm-7.177.704c0-1.197.54-1.907 1.456-1.907.93 0 1.524.738 1.524 1.907S8.308 9.84 7.371 9.84c-.895 0-1.442-.725-1.442-1.914z">
                            </path>
                        </svg>
                        <input autocomplete="off" placeholder="Email" class="input-field" type="text" name="email"
                            id="id-email" required>
                    </div>
                    <div class="field mb-2">
                        <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                            fill="currentColor" viewBox="0 0 16 16">
                            <path
                                d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z">
                            </path>
                        </svg>
                        <input placeholder="Contraseña" name="pass" id="id-password" class="input-field"
                            type="password">
                    </div>
                    <div class="btn">
                        <button
                            class="button1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Entrar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</button>
                        <button class="button2" id="registerModalButton">Registrarse</button>
                    </div>
                    <!-- <button class="button3">Forgot Password</button> -->
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Modal de Registro -->
<div class="modal fade" id="registerModal" tabindex="-1" role="dialog" aria-labelledby="registerModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <form id="usuarioForm" action="/usuario/c" method="post">
                    <p id="heading" class="m-4">Registro</p>
                    <div class="field m-2">
                        <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            viewBox="0 0 16 16">
                            <path
                                d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0 1a5.48 5.48 0 0 0-3.757 1.457 7 7 0 0 0 7.514 0A5.48 5.48 0 0 0 8 9z">
                            </path>
                        </svg>
                        <input autocomplete="off" placeholder="Nombre" class="input-field" type="text" id="id-nombre" name="nombre" required>
                    </div>
                    
                    <div class="field m-2">
                       
                        <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                            fill="currentColor" viewBox="0 0 16 16">
                            <path
                                d="M13.106 7.222c0-2.967-2.249-5.032-5.482-5.032-3.35 0-5.646 2.318-5.646 5.702 0 3.493 2.235 5.708 5.762 5.708.862 0 1.689-.123 2.304-.335v-.862c-.43.199-1.354.328-2.29.328-2.926 0-4.813-1.88-4.813-4.798 0-2.844 1.921-4.881 4.594-4.881 2.735 0 4.608 1.688 4.608 4.156 0 1.682-.554 2.769-1.416 2.769-.492 0-.772-.28-.772-.76V5.206H8.923v.834h-.11c-.266-.595-.881-.964-1.6-.964-1.4 0-2.378 1.162-2.378 2.823 0 1.737.957 2.906 2.379 2.906.8 0 1.415-.39 1.709-1.087h.11c.081.67.703 1.148 1.503 1.148 1.572 0 2.57-1.415 2.57-3.643zm-7.177.704c0-1.197.54-1.907 1.456-1.907.93 0 1.524.738 1.524 1.907S8.308 9.84 7.371 9.84c-.895 0-1.442-.725-1.442-1.914z">
                            </path>
                        </svg>
                        <input autocomplete="off" placeholder="Email" class="input-field" type="text" id="id-email"
                        name="email" required>
                    </div>
                    <div class="field m-2">
                        <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                            fill="currentColor" viewBox="0 0 16 16">
                            <path
                                d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z">
                            </path>
                        </svg>
                        <input placeholder="Contraseña" id="id-pass" name="pass" class="input-field" type="password">
                    </div>
                    <div class="btn">
                        <button class="button1"
                            type="submit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Registrar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</button>
                        <button class="button2" data-dismiss="modal">Cancelar</button>
                    </div>
                    <!-- <button class="button3">Forgot Password</button> -->
                </form>
            </div>
        </div>
    </div>
</div>
<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<!-- Bootstrap JS -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"> -->
<script>
    jQuery(document).ready(function ($) {
        $('#personIcon').click(function () {
            $('#personModal').modal('show');
        });
        $('.dropdown-toggle').dropdown()
        // Abre el modal de registro cuando se hace clic en el botón "Registrarse"
        $('#registerModalButton').click(function () {
            $('#registerModal').modal('show');
        });

        $('.navbar-nav #personIcon').click(function () {
        $('#personModal').modal('show');
    });
    });
</script>
<div class="container mt-5"> <!-- Cambiado el margen superior a 50px -->
    <!-- Aquí debería estar el código para mostrar los mensajes de error -->
</div>